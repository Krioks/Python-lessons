# Циклы

Цикл — разновидность управляющей конструкции в высокоуровневых языках программирования, предназначенная для организации
многократного исполнения набора инструкций. Также циклом может называться любая многократно исполняемая
последовательность инструкций, организованная любым способом (например, с помощью условного перехода).

## Цикл for

Цикл `for`, также называемый циклом с параметром, в языке Python богат возможностями. В цикле `for` указывается
переменная и множество значений, по которому будет пробегать переменная. Множество значений может быть задано списком,
кортежем, строкой или диапазоном.

Рассмотрим следующий код:

```python
i = 1
for color in 'красный', 'оранжевый', 'желтый', 'зелёный', 'голубой', 'синий', 'фиолетовый':
    print('#', i, '-й цвет радуги – ', color)
    i += 1
```

Вывод:

```
# 1 -й цвет радуги –  красный
# 2 -й цвет радуги –  оранжевый
# 3 -й цвет радуги –  желтый
# 4 -й цвет радуги –  зелёный
# 5 -й цвет радуги –  голубой
# 6 -й цвет радуги –  синий
# 7 -й цвет радуги –  фиолетовый
```

В этом примере переменная `color` последовательно принимает значения `'красный', 'оранжевый'` и т.д. В теле цикла
выводится сообщение, которое содержит название цвета, то есть значение переменной `color`, а также номер итерации цикла
число, которое сначала равно 1, а потом увеличивается на один инструкцией `i += 1` с каждым проходом цикла.

Инструкция `i += 1` эквивалентна конструкции `i = i + 1` (это просто сокращенная запись). Такую сокращенную запись можно
использовать для всех арифметических операций:   `*=`, `-=`, `/=`, `%=`...

В списке значений могут быть выражения различных типов:

```python
for i in 1, 2, 3, 'one', 'two', 'three':
    print(i)
```

Вывод:

```
1
2
3
one
two
three
```

При первых трех итерациях цикла переменная `i` будет принимать значение типа `int`, при последующих трех — типа `str`.

### Функция range

Как правило, циклы `for` используются либо для повторения какой-либо последовательности действий заданное число раз,
либо для изменения значения переменной в цикле от некоторого начального значения до некоторого конечного.

Для повторения цикла некоторое заданное число раз `n` можно использовать цикл `for`  вместе с функцией `range.`
Рассмотрим подробнее примере ниже:

```python
for i in range(4):  # равносильно инструкции for i in 0, 1, 2, 3:
    # здесь можно выполнять циклические действия
    print(i)
    # цикл закончился, поскольку закончился блок с отступом
```

Вывод:

```
0
1
2
3
```

В качестве `n` может использоваться числовая константа, переменная или произвольное арифметическое выражение (
например, `2 ** 10`). Если значение `n` равно нулю или отрицательное, то тело цикла не выполнится ни разу.

Функция range может также принимать не один, а два параметра. Вызов `range(a, b)` означает, что индексная переменная
будет принимать значения от `a` до `b - 1`, то есть первый параметр функции `range`, вызываемой с двумя параметрами,
задает начальное значение индексной переменной, а второй параметр — первое значение, которое индексная переменная
принимать **не будет**. Если же `a`≥`b`, то цикл не будет выполнен ни разу. Например, для того, чтобы просуммировать
значения чисел от 1 до `n` можно воспользоваться программой ниже:

```python
sum_ = 0
n = 5
for i in range(1, n + 1):
    sum_ += i
print(sum_)
```

Вывод:

```
15
```

Наконец, чтобы организовать цикл, в котором индексная переменная будет уменьшаться, необходимо использовать
функцию `range` с тремя параметрами. Первый параметр задает начальное значение индексной переменной, второй параметр —
значение, до которого будет изменяться индексная переменная (не включая его!), а третий параметр — величину изменения
индексной переменной. Например, сделать цикл по всем нечетным числам от `1` до `9` можно при помощи
функции `range(1, 100, 2)`:

```python
for i in range(1, 9, 2):
    print(i)
```

Вывод:

```
1
3
5
7
```

А сделать цикл по всем числам от `10` до `1` можно при помощи `range(100, 0, -1)`:

```python
for i in range(10, 0, -1):
    print(i)
```

Вывод:

```
10
9
8
7
6
5
4
3
2
1
```

Более формально, цикл `for i in range(a, b, d)` при `d > 0` задает значения индексной переменной `i = a`, `i = a + d`
, `i = a + 2 * d` и так для всех значений, для которых `i < b`. Если же `d < 0`, то переменная цикла принимает все
значения `i > b`.

## Цикл while

Цикл `while` («пока») позволяет выполнить одну и ту же последовательность действий, пока проверяемое условие истинно.
Условие записывается до тела цикла и проверяется до выполнения тела цикла. Как правило, цикл `while` используется, когда
невозможно определить точное значение количества проходов исполнения цикла.

Синтаксис цикла `while` в простейшем случае выглядит так:

```python
while True:
    pass
```

При выполнении цикла `while` сначала проверяется условие. Если оно ложно, то выполнение цикла прекращается и управление
передается на следующую инструкцию после тела цикла `while`. Если условие истинно, то выполняется инструкция, после чего
условие проверяется снова и снова выполняется инструкция. Так продолжается до тех пор, пока условие будет истинно. Как
только условие станет ложно, работа цикла завершится и управление передастся следующей инструкции после цикла.

В примере ниже фрагмент программы напечатает на экран квадраты всех целых чисел от 1 до 10. Видно, что цикл `while`
может заменять цикл `for ... in range(...)`:

```python
i = 1
while i <= 10:
    print(i ** 2)
    i += 1
```

Вывод:

```
1
4
9
16
25
36
49
64
81
100
```

В этом примере переменная `i` внутри цикла изменяется от 1 до 10. Такая переменная, значение которой меняется с каждым
новым проходом цикла, называется счетчиком. Заметим, что после выполнения этого фрагмента значение переменной `i` будет
равно `11`, поскольку именно при `i == 11` условие `i <= 10` впервые перестанет выполняться.

Ниже цикл `while`  служит для определения количества цифр натурального числа `n`:

```python
n = 123
length = 0
while n > 0:
    n //= 10
    length += 1
print(length)
```

Вывод:

```
3
```

В этом цикле мы отбрасываем по одной цифре числа, начиная с конца, что эквивалентно целочисленному делению на
10 (`n //= 10`), при этом считаем в переменной `length`, сколько раз это было сделано.

В языке Python есть и другой способ решения этой задачи: `length = len(str(i))`.

## Оператор continue

Оператор `continue` начинает следующий проход цикла, минуя оставшееся тело цикла (`for` или `while`)

```python
for i in 'hello world':
    if i == 'o':
        continue
    print(i * 2)
```

```
hh
ee
ll
ll
  
ww
rr
ll
dd
```

## Оператор break

Оператор `break` досрочно прерывает цикл.

```python
for i in 'hello world':
    if i == 'o':
        break
    print(i * 2)
```

Вывод:

```
hh
ee
ll
ll
```

## Ключевое слово else

Слово `else`, примененное в цикле `for` или `while`, проверяет, был ли произведен выход из цикла инструкцией `break`,
или же «естественным» образом. Блок инструкций внутри `else` выполнится только в том случае, если выход из цикла
произошел без помощи `break`.

```python
for i in 'hello world':
    if i == 'a':
        break
else:
    print('Буквы a в строке нет')
```

Вывод:

```
Буквы a в строке нет
```

## Оператор pass

Оператор-заглушка, равноценный отсутствию операции.  
В ходе исполнения данного оператора ничего не происходит, поэтому он может использоваться в качестве заглушки в тех
местах, где это синтаксически необходимо, например: в инструкциях, где тело является обязательным, таких как `if`, `for`
и пр.

Зачастую `pass` используется там, где код пока ещё не появился, но планируется:

```python
if True:
    pass
```

При активации внешнего условия выражение `pass` позволяет обрабатывать условия без влияния на цикл; чтение кода будет
продолжаться до появления выражения break или другого выражения.

Как и в случае с другими выражениями, выражение `pass` будет содержаться в блоке кода до выражения loop, обычно после
условного выражения `if`.

```python
number = 0
for number in range(5):
    if number == 3:
        pass

    print(number)
```

Вывод:

```
0
1
2
3
4
```

## Списки

Большинство программ работает не с отдельными переменными, а с набором переменных. Например, программа может
обрабатывать информацию об учащихся класса, считывая список учащихся с клавиатуры или из файла, при этом изменение
количества учащихся в классе не должно требовать модификации исходного кода программы.

Раньше мы сталкивались с задачей обработки элементов последовательности, например, вычисляя наибольший элемент
последовательности. Но при этом мы не сохраняли всю последовательность в памяти компьютера. Однако, во многих задачах
нужно именно сохранять всю последовательность, например, если бы нам требовалось вывести все элементы последовательности
в возрастающем порядке (“отсортировать последовательность”).

Для хранения таких данных можно использовать структуру данных, называемую в Python _список_ (в большинстве же языков
программирования используется другой термин «массив»). Список представляет собой последовательность элементов,
пронумерованных от 0, как символы в строке. Список можно задать перечислением элементов списка в квадратных скобках:

```python
Primes = [2, 3, 5, 7, 11, 13]
Rainbow = ['Red', 'Orange', 'Yellow', 'Green', 'Blue', 'Indigo', 'Violet']
```

В списке `Primes` — 6 элементов, а именно: `Primes[0] == 2`,   `Primes[1] == 3`,  `Primes[2] == 5`,  `Primes[3] == 7`
,  `Primes[4] == 11`,  `Primes[5] == 13`. Список `Rainbow` состоит из 7 элементов, каждый из которых является строкой.

> Также как и символы в строке, элементы списка можно индексировать отрицательными числами с конца, например,  `Primes[-1] == 13`,  `Primes[-6] == 2`.



Длину списка, то есть количество элементов в нем, можно узнать при помощи функции `len`, например, `len(Primes) == 6`.

В отличие от строк, элементы списка можно изменять, присваивая им новые значения:

```python
Rainbow = ['Red', 'Orange', 'Yellow', 'Green', 'Blue', 'Indigo', 'Violet']
print(Rainbow[0])
Rainbow[0] = 'Красный'
print('Выведем радугу:')
for i in range(len(Rainbow)):
    print(Rainbow[i])    
```

Вывод:

```
Red
Выведем радугу:
Красный
Orange
Yellow
Green
Blue
Indigo
Violet
```

Рассмотрим несколько способов создания и считывания списков. Прежде всего, можно создать пустой список (не содержащий
элементов, длины 0), а в конец списка можно добавлять элементы при помощи метода `append`. Например, пусть программа
получает на вход количество элементов в списке `n`, а потом `n` элементов списка по одному в отдельной строке:

```python
a = []  # заводим пустой список
n = int(input())  # считываем количество элемент в списке
for i in range(n):  
    new_element = int(input())  # считываем очередной элемент
    a.append(new_element)  # добавляем его в список
    # последние две строки можно было заменить одной:
    # a.append(int(input()))
print(a)
```

Для списков целиком определены следующие операции: конкатенация списков (сложение списков, т.е. приписывание к одному
списку другого) и повторение списков (умножение списка на число). _Пример 4_

```python
a = [1, 2, 3]
b = [4, 5]
c = a + b
d = b * 3
print([7, 8] + [9])
print([0, 1] * 3)
print(c)
print(d)
```

Вывод:

```
[7, 8, 9]
[0, 1, 0, 1, 0, 1]
[1, 2, 3, 4, 5]
[4, 5, 4, 5, 4, 5]
```